<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>定期更新</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<header>
  <button id="menuBtn">☰</button>
  <h1>定期更新</h1>
</header>

<nav id="slideMenu" class="side-menu">
  <a href="index.html">ホーム</a>
   <a href="detail.html">詳細</a>
  <a href="news.html">定期更新</a>
</nav>
<div id="overlay"></div>

<main id="newsArea"></main>

<script src="js/main.js"></script>
<script>
fetch("data/news.json")
  .then(res => res.json())
  .then(data => {
    const area = document.getElementById("newsArea");

    const render = (title, list) => {
      if (!list || list.length === 0) return;
      area.innerHTML += `<h2>${title}</h2>`;
      list.forEach(n => {
        area.innerHTML += `
          <article>
            <h3>${n.date} ${n.title}</h3>
            <p>${n.body}</p>
          </article>`;
      });
    };

    render("最新のお知らせ", data.current);

    Object.keys(data.archive)
      .sort((a,b)=>b-a)
      .forEach(y => render(`${y}年度`, data.archive[y]));
  });
</script>
</body>
</html>
